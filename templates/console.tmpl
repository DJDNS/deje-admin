{{ with .Data }}
<h1>Admin Console</h1>
<table>
    <thead>
        <tr>
            <td>Location</td>
            <td>Num. Events</td>
            <td>Num. Timestamps</td>
            <td>Num. Quorums</td>
        </tr>
    </thead>
    <tr>
        <td>{{ .Channel.GetURL }}</td>
        <td>{{ .Events.Length }}</td>
        <td>{{ .Timestamps.Length }}</td>
        <td>{{ .Quorums.Length }}</td>
    </tr>
</table>

<h3>Block sync progress</h3>
<div class="progress progress-striped active">
  <div class="progress-bar" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="min-width:80px; width: 0%;">
    0/120 (0%)
  </div>
</div>

<p>
    <a target="_blank" href="/events?host={{ .Channel.Host }}&port={{ .Channel.Port }}&channel={{ .Channel.Channel }}">View events</a>
    (Latest is <span id="latest_event_hash">DEADBEEF</span>)
</p>

<h3>IRC log</h3>
<pre id="irc_logger" class="pre-scrollable"></pre>

<h3>Current value</h3>
<ul>
    <li>
        <code>"paxos"</code> : <code>{...}</code>
        <ul>
            <li>
                <code>"acceptors"</code> : <code>[...]</code>
                <ul>
                    <li><code>0</code> : <code>"rspode@placeholder.me"</code></li>
                    <li><code>1</code> : <code>"aglossop@placeholder.me"</code></li>
                </ul>
            </li>
            <li><code>"learners"</code> : <code>[]</code></li>
        </ul>
    </li>
    <li><code>"handlers"</code> : <code>{}</code></li>
</ul>

<h4>Propose change</h4>
<form role="form">
    <div class="form-group has-error">
        <textarea class="form-control" name="event_json" rows="5">Event JSON here</textarea>
        <span class="help-block js-prchange-help">Must be valid JSON.</span>
    </div>
    <fieldset disabled>
        <button type="submit" class="btn btn-primary">Submit</button>
    </fieldset>
</form>
<script>
    require(['djadmin/irc','djadmin/io'], function(IRCLogger, socket) {
        irc = new IRCLogger('#irc_logger');
        socket.subscribe('{{ .Channel.GetURL }}');
    });
</script>
{{ end }}
